{% extends 'base.html' %}
{% block title %}Редактирование узла{% endblock %}

{% block content %}

        {{ connected_nodes }}
        {{ direct_connected_nodes }}
        {{ weight_direct_nodes }}
        <p>--------------</p>
        <form method="post">

            <span>

                {{ node_name_form }}
                {{ node_name_form.non_field_errors }}
            </span>

            <div>Связи:
                {% for other_node in other_nodes %}
                    <div class="node-information">
                        {{ other_node.name }}

                        <input class="node" type="checkbox" name="{{ other_node.id }}"
                            {% if other_node in direct_connected_nodes and other_node in connected_nodes%}
                                 checked >
                            {% elif other_node in connected_nodes %}
                                checked disabled >
                            {% else %}
                                >
                            {% endif %}

                        <input class="weight" type="text" name="{{ other_node.id }}" value=
                            {% for node, weight in weight_direct_nodes.items %}
                                {% if other_node == node %}
                                    {{ weight }}
                                {% endif %}
                            {% endfor %}
                        >


                    </div>
                {% endfor %}
            </div>

            <div><input id="submit" type="submit" class="glyphicon-link" value="Сохранить"></div>
        </form>

{% endblock %}
